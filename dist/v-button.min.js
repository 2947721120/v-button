/**
 * vButton - AngularJS pressable button with a busy indicator
 * @version v1.0.0
 * @link http://lukaszwatroba.github.io/v-button
 * @author Łukasz Wątroba <l@lukaszwatroba.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(t){"use strict";function e(e,n){return{restrict:"A",scope:{isBusy:"=vBusy",busyLabel:"@vBusyLabel"},compile:function(e){var s=t.element(e.find("span"));return s[0]||(e.html("<span>"+e.html()+"</span>"),s=t.element(e.find("span"))),function(t,e){var o=s.html(),u=t.busyLabel||n.busyLabel;t.$watch("isBusy",function(t){t?(e.addClass(n.states.busy),s.html(u)):(e.removeClass(n.states.busy),s.html(o))})}}}}function n(e,n){return{restrict:"A",link:function(s,o){function u(n,s){var u,i,l=o[0].getBoundingClientRect(),r=o[0].querySelector("v-ripple");t.element(r).remove(),r=e[0].createElement("v-ripple"),r.style.height=r.style.width=Math.max(l.width,l.height)+"px",o.append(r),i=n-l.left-r.offsetWidth/2-d[0].scrollLeft,u=s-l.top-r.offsetHeight/2-d[0].scrollTop,r.style.left=i+"px",r.style.top=u+"px"}function i(t){u(t.pageX,t.pageY),o.addClass(n.states.pressed),d.bind(c,l)}function l(){o.removeClass(n.states.pressed),d.unbind(c,l)}var r=!("undefined"==typeof e[0].documentElement.ontouchstart),a=r?"touchstart":"mousedown",c=r?"touchend":"mouseup",d=t.element(e[0].body);o.bind(a,i)}}}t.module("vButton.config",[]).constant("buttonConfig",{busyLabel:"Loading",states:{busy:"is-busy",pressed:"is-pressed"}}),t.module("vButton.directives",[]),t.module("vButton",["vButton.config","vButton.directives"]),t.module("vButton.directives").directive("vBusy",e),e.$inject=["$document","buttonConfig"],t.module("vButton.directives").directive("vPressable",n),n.$inject=["$document","buttonConfig"]}(angular);